<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Better Faster Stronger</title>

  <!-- Bootstrap Core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="css/simple-sidebar.css" rel="stylesheet">
  
  <!-- Custom CSS for comments section-->
  <link href="css/comments.css" rel="stylesheet">
  <!--videojs-->
  <link href="http://vjs.zencdn.net/5.19.1/video-js.css" rel="stylesheet">
  <link href="css/videojs.markers.css" rel="stylesheet">
  <!-- If you'd like to support IE8 -->
  <script src="http://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>

  <!--video js -->
  <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
  <script src="http://vjs.zencdn.net/5.19.1/video.js"></script>
  <script src='js/videojs-markers.js'></script>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- jQuery -->
  <script src="js/jquery.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>
  <script>

            
   $(document).ready(function(){

      var player = videojs('#my-video');
      var markers = [
        {time: 10, text: "Bad lunge! Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maecenas id lobortis est, at commodo orci. "},
        {time: 15,  text: "Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maece"},
        {time: 20,text: "Bad lunge! Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maecenas id lobortis est, at commodo orci. "},
        {time: 25,  text: "Bad lunge! Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maecenas id lobortis est, at commodo orci. "},
        {time: 35,  text: "Bad lunge! Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maecenas id lobortis est, at commodo orci. "},
        {time: 40,  text: "Bad lunge! Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maecenas id lobortis est, at commodo orci. "},
        {time: 45,  text: "Bad lunge! Your foot needs to be more in front. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi quam ligula, vestibulum sed elementum ut, gravida vitae ex. Maecenas id lobortis est, at commodo orci. "}
      ];

      //load the marker plugin
       player.markers({
          markerTip:{
             display: true,
             text: function(marker){
                return Math.floor(marker.time/60) + ":" + marker.time;
             },
             time: function(marker) {
                 return marker.time;
              }
          },
          breakOverlay:{
             display: true,
             displayTime: 3,
             text: function(marker) {
                return "This is an break overlay: " + marker.text;
             }
          },
          onMarkerReached: function(marker) {
            console.log(marker);
            $(".comment-text").addClass("truncate");
            $(".comment-text").removeAttr("style", "background-color");
            $(".compare-btn").css("display", "none");
            $("#" + marker.time).css("background-color", "yellow");
            $("#" + marker.time).removeClass("truncate");
            $("#compare-btn" + marker.time).css("display", "block");
          },
          markers: markers
       });
      // insert marker list
      for(var i =0; i < markers.length; i++){

         var item = $("<div class='comment-text truncate' id=" + markers[i].time + " data-index='"+i+"'><a href='#'>"+ Math.floor(markers[i].time/60) + ":" + markers[i].time + ": " + markers[i].text+"</a></div><button class='btn btn-info compare-btn' id='compare-btn" + markers[i].time + "' style='display:none'>Compare Self to Pro</button>");
         $("#comments").append(item);
      }

      // set up click event
      $(".comment-text").click(function(){
         var index = $(this).data("index");
         $(".comment-text").addClass("truncate");
         $(".comment-text").removeAttr("style", "background-color");
         $(".compare-btn").css("display", "none");

         $(this).removeClass("truncate");
         $(this).css("background-color", "yellow");
         $("#compare-btn" + markers[index].time).css("display", "block");
         player.currentTime(markers[index].time);
      });

   });

  </script>

</head>

<body>
  <div id="wrapper" class="toggled">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
      <ul class="sidebar-nav">
        <li class="sidebar-brand">
          <a href="./index.html">My Videos</a>
        </li>
        <li>
          <a href="./team.html">Team Videos</a>
        </li>
        <li>
          <a href="./stats.html">My Stats</a>
        </li>
        <li>
          <a href="./contact.html">Contact</a>
        </li>
      </ul>
    </div>

    <div id="page-content-wrapper">
      <div class="container-fluid">

        <!-- Header row -->
        <div class="row">
          <div class="col-lg-10">
            <!-- Search bar at the top -->
            <form action="" class="navbar-form navbar-left">
               <div class="input-group">
                 <input type="Search" placeholder="Search..." class="form-control" />
                 <div class="input-group-btn">
                   <button class="btn btn-info">
                   <span class="glyphicon glyphicon-search"></span>
                   </button>
                 </div>
               </div>
            </form>
          </div>
          <div class="col-lg-2">
            <!-- Profile icon at the top -->
            <div class="dropdown">
              <img src="./images/profile.png" width="70px" class="dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="./settings.html">Settings</a></li>
                <li><a href="./logout.html">Logout</a></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Page content -->
        <div class="row">
          <div class="col-lg-12">
            <h1> My Videos </h1>
            <br>
            <!-- Filter -->
            <div class="col-lg-8">
            <video id="my-video" class="video-js" controls preload="auto" width="720" height="480"
            poster="test.jpg" data-setup="{}">
              <source src="http://vjs.zencdn.net/v/oceans.mp4" type="video/mp4">

              <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a web browser that
                <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
              </p>
            </video>
              </div>
            <br>
            <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Toggle Menu</a>
            <div class = "col-lg-4">
               <!-- Comments component -->
              <div id="comments">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Menu Toggle Script -->
  <script>
  $("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#wrapper").toggleClass("toggled");
  });
  </script>



</body>

</html>
